name: ðŸŒ» Root ZIP Auto-Sync

on:
  push:
    paths:
      - "spidernet_secure_*.zip"   # any ZIP dropped in repo root

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v4
name: ðŸŒ» Release Auto-Sync

on:
  release:
    types: [published]   # triggers whenever you publish a release

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Download release asset
        uses: dsaltares/fetch-gh-release-asset@master
        with:
          repo: ${{ github.repository }}
          version: latest
          file: spidernet_secure_v2.zip
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract and sync
        run: |
          unzip -o spidernet_secure_v2.zip -d .
          rm spidernet_secure_v2.zip
          git config user.name "spidernet-bot"
          git config user.email "bot@sattvamusk.com"
          git add .
          git commit -m "ðŸŒ» Auto-sync from Release ZIP" || echo "No changes to commit"
          git push origin main
Auto-Sync from Release ZIP
